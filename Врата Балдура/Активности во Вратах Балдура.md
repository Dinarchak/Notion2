class Solution:

    def maxScore(self, nums1: List[int], nums2: List[int], k: int) -> int:

        n = len(nums1)

        s = 0

        if k == 1:

            return max(nums1[i]*nums2[i] for i in range(n))

        pairs = sorted(list(zip(nums1, nums2)), key=lambda x: (-x[1]))

        for i in pairs:

            s += pairs[i][0]

            l, r = -1, len(pq)

            while (r - l > 1):

                m = (l + r) // 2

                if pq[m][0] < pairs[i - 1][0]:

                    r = m

                else:

                    l = m

            pq.insert(r, pairs[i - 1])

            if len(pq) > k:

                s -= pq.pop()[0]

            ans = max(ans, s * pairs[i][1])

        return ans